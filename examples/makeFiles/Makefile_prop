CXX = g++

CXXFLAGS = -g -I/usr/include

LDFLAGS = -L/lib/x86_64-linux-gnu -lfftw3 -lm
# define output file
TARGET = test

# define source file
SRCS = testPropagator.cpp ../Propagator.cpp ../fft_utils.cpp ../PropagationKernel.cpp ../math_utils.cpp

# 定义依赖文件
OBJS = $(SRCS:.cpp=.o)

# 默认目标
all: $(TARGET)

# 链接目标文件
$(TARGET): $(OBJS)
	$(CXX) $(CXXFLAGS) -o $@ $^ $(LDFLAGS)

# 定义编译规则
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@


.PHONY: clean
clean:
	rm -f $(OBJS) $(TARGET)
